@{
    //ViewBag.Title = "InsertView";
    Layout = "~/Views/Shared/_LayoutHomePage.cshtml";
}


<!DOCTYPE html>
<html>
<head>
    <title>Insert User List</title>
    <style type="text/css">
        .headerr {
            font-weight: bold;
            background-color: #e8e3e3;
            color: #dc8b8b;
            font-size: 1.7em;
            padding: 1rem;
            top: 0;
            text-align: center;
            text-transform: uppercase;
            min-width: 900px;
        }

        tr.spaceUnder > td {
            padding-bottom: 1.5em;
        }

        .toggle.ios, .toggle-on.ios, .toggle-off.ios {
            border-radius: 20px;
        }

            .toggle.ios .toggle-handle {
                border-radius: 20px;
            }

        .gi-5x {
            font-size: 1.3em;
        }

        .slow .toggle-group {
            transition: left 0.7s;
            -webkit-transition: left 0.7s;
        }
    </style>
</head>
<body>
    <div class="headerr" style="padding-top: 100px;">Insert User Form</div>
    <br />
    <center>
        <table id="TblInsert" style="margin-left: 10px;">
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">First Name:</span></td>
                <td>
                    <input id="InsrtFirstname" class="form-control" placeholder="First Name" />

                </td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Last Name:</span></td>
                <td><input id="InsrtLastname" class="form-control" placeholder="Last Name" /></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">User Name:</span></td>
                <td><input id="InsrtUsrName" class="form-control" type="text" placeholder="User Name" /></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Password:</span></td>
                <td><input id="InsrtPswrd" class="form-control" type="password" placeholder="Password" /></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Email:</span></td>
                <td><input id="InsrtEmail" class="form-control" placeholder="Email" /></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Position:</span></td>
                <td><input id="InsrtPosition" class="form-control" type="text" placeholder="Position" /></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Privilege:</span></td>
                <td><select id="InsrtPrivilege" class="form-control"><option>ReadOnly</option><option>Full</option></select></td>
            </tr>
            <tr class="spaceUnder">
                <td><span style="font-weight: bold;">Disabled:</span></td>
                <td><input id="changedchecked" checked type="checkbox" data-toggle="toggle" data-style="ios slow" data-on="ON" data-off="OFF" data-onstyle="primary" data-offstyle="danger" data-size="normal" /></td>
            </tr>
            <tr>
                <td><input id="InsrtBackPage" value="Back" style="width: 100px;" class="btn btn-primary" readonly="readonly" onclick="location.href='@Url.Action("LoadHome", "MyHome")'" /></td>
                <td><input id="InsertBtn" type="button" value="Add" class="btn btn-danger" style="width: 150px;margin-left: 50px;" /></td>
            </tr>
        </table>
    </center>
</body>
</html>
<script type="text/javascript">
    $(document).ready(function () {

        var ChangeDisbld = "True";

        $("#TblInsert tr").find("td:eq(1) input[type='checkbox']").change(function () {
            if ($(this).is(":checked")) {
                ChangeDisbld = "True";
            }
            else {
                ChangeDisbld = "False";
            }
        });

        $("#InsertBtn").click(function () {
            //alert("Hello!");
            $.ajax({
                type: "POST",
                url: "/MyHome/InsertUser",
                data: '{firstname:"' + $("#InsrtFirstname").val() + '",lastname:"' + $("#InsrtLastname").val() + '",privilege:"' + $('#InsrtPrivilege option:selected').val() + '",username:"' + $("#InsrtUsrName").val() + '",passw:"' + $("#InsrtPswrd").val() + '",email:"' + $("#InsrtEmail").val() + '",disabled:"' + ChangeDisbld + '",position:"' + $("#InsrtPosition").val() + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    //alert("Successed");
                    location.href = "@Url.Action("LoadHome", "MyHome")";
                },
                error: function (response) {
                    alert("Error");
                }
            });
        });
    });
</script>
