<div class="card m-0">
  <div class="card-header bg-white header-elements-sm-inline">
    <div>
      <div class="btn-group float-left">
        <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown"><i class="icon-list position-left"></i><span
            class="caret"></span></button>
        <ul class="dropdown-menu dropdown-menu-left pl-2  dropdown-scrollable" style="min-width: 250px">
          <li class="form-check" (click)="changeColumnVisibility(column)" [ngStyle]="{'display': column.selectable ? 'block' : 'none'}"
            *ngFor="let column of config.columns">
            <label class="form-check-label">
              <input type="checkbox" class="form-check-input" [(ngModel)]="column.visibility">
              {{column.title}}
            </label>
          </li>
        </ul>
      </div>
      <div class="float-left ml-4 bg-dark-alpha rounded px-1" style="width: 60px;">
        <simple-selector [disabled]="false" [items]="perPageItems" (callbackChange)="callbackChangePerPage($event)"></simple-selector>
      </div>
    </div>
    <div class="header-elements">
      <ul class="list-inline mb-0">
        <!-- <li class="list-inline-item"><a href="#">Upload</a></li> -->
        <li class="list-inline-item">
          <ul class="pagination pagination-separated justify-content-end pagination-sm" *ngIf="config.pagination.enabled && config.pagination.totalCount">
            <li class="page-item prev"><a class="page-link" (click)="changePagePrevious()">&lsaquo;&lsaquo;</a></li>
            <li class="page-item" *ngFor="let page of config.pagination.pages" [ngClass]="{'active':page==config.pagination.page,'text-danger':page!=config.pagination.page}"><a
                class="page-link" (click)="changePage(page)">{{page}}</a></li>
            <li class="page-item next"><a class="page-link" (click)="changePageNext()">&rsaquo;&rsaquo;</a></li>
          </ul>
        </li>
      </ul>

    </div>
  </div>

  <div class="table-responsive">
    <table class="table dataTable table-bordered table-striped table-hover table-sm">
      <thead>
        <tr>
          <th title="{{column.title}}" *ngFor="let column of config.columns" (click)="changeSorting(column)" [ngClass]="config.sorting.enabled ? column.sortingClass : null"
            [ngStyle]="{'width':column.width,'display': column.visibility ? 'table-cell' : 'none'}">
            <span *ngIf="column.iconClass==null">{{column.title}}</span>
            <span>
              <i [className]="column.iconClass"></i>
            </span>
          </th>

          <th *ngIf="config.actions.length > 0" class="wandafi-table-column-action"></th>
        </tr>
      </thead>
      <tr *ngFor="let row of dataSource.rows">
        <td [ngStyle]="{'display': field.column.visibility ? 'table-cell' : 'none'}" *ngFor="let field of row.fields;let index = index">
          <!-- {{index}} -->
          <span *ngIf="field.type=='LINK'">
            <!-- <a *ngIf="!field.isRouterLink" [ngClass]="{'text-bold' : field.isBold}" href="{{field.url}}" target="_blank">{{field.value}}</a> -->
            <!-- <a *ngIf="field.isRouterLink" [ngClass]="{'text-bold' : field.isBold}" [routerLink]="[field.url]">{{field.value}}</a> -->
            <a href="javascript:void(0)" *ngIf="field.isRouterLink" [ngClass]="{'font-weight-semibold' : field.isBold}"
              (click)="navigateTo(field.url)">{{field.value}}</a>
          </span>

          <span *ngIf="field.type=='SIMPLE'">{{field.value}}</span>

          <span *ngIf="field.type=='LABEL'" [className]="field.className">{{field.value}}</span>

          <!-- <div class="wandafi-table-column-badge-cell" *ngIf="field.type=='BADGE'">
                <div [className]="field.className"></div>
              </div> -->

        </td>

        <td *ngIf="config.actions.length > 0" class="text-center">
          <div class="list-icons">
            <div class="dropdown">
              <a href="#" class="list-icons-item" data-toggle="dropdown">
                <i class="icon-menu9"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right">

                <a class="dropdown-item" *ngFor="let action  of config.actions" (click)="changeAction(action,row)">
                  <i [ngClass]="action.iconClass"></i>
                  {{action.title}}
                </a>

              </div>
            </div>
          </div>
          <!-- <div class="btn-group">
                <button type="button" class="btn btn-default btn-xs btn-icon dropdown-toggle" data-toggle="dropdown">
                  <i class="icon-menu7"></i> &nbsp;<span class="caret"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" style="width: 200px">
                  <li *ngFor="let action  of config.actions">
                    <a (click)="changeAction(action,row)"><i [ngClass]="action.iconClass"></i> {{action.title}}</a>
                  </li>
                </ul>
              </div> -->
        </td>

      </tr>
    </table>
  </div>

  <div class="card-footer bg-white d-sm-flex justify-content-sm-between align-items-sm-center">
    <ul class="list-inline mb-0">
      <li *ngIf="dataSource?.totalCount" class="list-inline-item">Total - {{dataSource.totalCount}}</li>
    </ul>

    <ul class="list-inline mb-0 mt-1 mt-sm-0">
      <!-- <li class="list-inline-item"><a href="#">3 reports</a></li> -->
      <li class="list-inline-item">
        <ul class="pagination pagination-separated justify-content-end pagination-sm" *ngIf="config.pagination.enabled && config.pagination.totalCount">
          <li class="page-item prev"><a class="page-link" (click)="changePagePrevious()">&lsaquo;&lsaquo;</a></li>
          <li class="page-item" *ngFor="let page of config.pagination.pages" [ngClass]="{'active':page==config.pagination.page,'text-danger':page!=config.pagination.page}"><a
              class="page-link" (click)="changePage(page)">{{page}}</a></li>
          <li class="page-item next"><a class="page-link" (click)="changePageNext()">&rsaquo;&rsaquo;</a></li>
        </ul>
      </li>
    </ul>
  </div>
</div>