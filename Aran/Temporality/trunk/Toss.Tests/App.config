<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
  </configSections>

  <appSettings>
    <!--TemporalityTests-->
    <add key="FeatureTypesCount" value="2" />
    <add key="FeatureDuplicatsCount" value="4" />

    <!--DatabaseStressTests-->
    <add key="NumberOfTests" value="5" />
    <add key="WriteToFile" value="True" />
    <add key="ReportPath" value="C:\TOSS\test\logs\reports\" />
  </appSettings>

  <nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <targets>
      <target name="fileInfo" type="AsyncWrapper" queueLimit="15000" overflowAction="Block">
        <target xsi:type="File" fileName="C:\TOSS\test\logs\info.log" archiveFileName="C:\TOSS\logs\archive\info.{#}.log" archiveEvery="Day" archiveNumbering="Date" archiveDateFormat="yyyy-MM-dd-HH-mm" maxArchiveFiles="8" layout="${level:uppercase=true}|${machinename}|${windows-identity}|${assembly-version}|${logger}|${longdate}|${message}" />
      </target>
      <target name="fileWarn" xsi:type="File" fileName="C:\TOSS\test\logs\warn.log" archiveFileName="C:\TOSS\logs\archive\warn.{#}.log" archiveEvery="Day" archiveNumbering="Date" archiveDateFormat="yyyy-MM-dd-HH-mm" maxArchiveFiles="8" layout="${level:uppercase=true}|${machinename}|${windows-identity}|${assembly-version}|${logger}|${longdate}|${message}${exception:format=toString}" />
    </targets>
    <rules>
      <logger name="*" minlevel="Debug" writeTo="fileInfo" />
      <logger name="*" minlevel="Warn" writeTo="fileWarn" />
      <!--<logger name="*" minlevel="Debug" writeTo="fileDebug" />-->
    </rules>
  </nlog>

  <startup useLegacyV2RuntimeActivationPolicy="true">
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.2" />
  </startup>

  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="xunit.core" publicKeyToken="8d05b1bb7a6fdb6c" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-2.2.0.3545" newVersion="2.2.0.3545" />

      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="RazorEngine" publicKeyToken="9ee697374c7e744a" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-3.10.0.0" newVersion="3.10.0.0" />

      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="System.Threading.Tasks.Extensions" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-4.1.1.0" newVersion="4.1.1.0" />

      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="Npgsql" publicKeyToken="5d8b90d52f46fda7" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-2.0.14.3" newVersion="2.0.14.3" />

      </dependentAssembly>

    </assemblyBinding>

  </runtime>
</configuration>
